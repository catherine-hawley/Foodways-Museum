<!DOCTYPE html>
<html lang="en">
 <head>
    <!-- Required meta tags -->
   <meta charset="utf-8">
 <meta name="author" content="Catherine Hawley">  
<meta name="robots" content="noindex, nofollow"> 
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Souvenir Shop</title>
<link href="../css/style.css" rel ="stylesheet" type="text/css">
  <style>
       .shop-container {
      display: flex;
      flex-wrap: wrap;
      color:#3A4D3E;
      gap: 20px;
      padding-top: 20px;
    }

    .souvenir-item {
      width: 250px;
      background-color: #5B8FA3;
      border: 4px solid #222;
      padding: 10px;
      border-radius: 6px;
      position: relative;
    }

    .souvenir-item img {
      width: 100%;
      height: auto;
      cursor: pointer;
    }

    .souvenir-item input[type="checkbox"] {
      margin-right: 8px;
    }

    .souvenir-item button {
      margin-top: 10px;
      width: 100%;
      padding: 8px;
      font-weight: bold;
      background-color: #30336b;
      color: white;
      border: none;
      cursor: pointer;
    }

    .souvenir-item button:hover {
      background-color: #130f40;
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      z-index: 9999;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.8);
    }

    .modal-content {
      margin: 10% auto;
      padding: 20px;
      background-color: #fff;
      width: 60%;
      border-radius: 8px;
    }

    .modal-content img {
      width: 100%;
      height: auto;
    }

    .close-modal {
      float: right;
      font-size: 1.2rem;
      cursor: pointer;
      color: #444;
    }
    /* Tooltip container */
.tooltip {
  position: relative;
  display: inline-block;
  border-bottom: 1px dotted black; /* Add dots under the hoverable text */
  cursor: pointer;
}

/* Tooltip text */
.tooltiptext {
  visibility: hidden; /* Hidden by default */
   top: -5px;
  width: 130px;
  background-color:#5B8FA3;
  color: #fffffff;
  text-align: center;
  padding: 5px 0;
  border-radius: 6px;
  position: absolute;
  z-index: 1; /* Ensure tooltip is displayed above content */
}

/* Show the tooltip text on hover */
.tooltip:hover .tooltiptext {
  visibility: visible;
}
img {
  border: 5px solid #555;
}
</style>
</head>

<body>
 <header>
    <h1>Museum Shop</h1>
    <nav>
    <button onclick="location.href='../index.html'" class="button">Home</button>
    <button onclick="location.href='../html/staff.html'" class="button">Staff</button>
    <button onclick="location.href='../html/collections.html'" class="button">Collections</button>
    <button onclick="location.href='../html/cart.html'" id="viewCartBtn">View Cart</button>   
    </nav>
    </header>

  <div class="shop-container">

    <!-- BEGIN SINGLE ITEM BLOCK-->
    <div class="souvenir-item" data-id="item001">
      <div class="tooltip">
     <img
      src="../images/shop/shopitem1.jpg"
      alt="handwoven storage basket with decoration"
      class="open-modal"
      data-modal-target="#modal-text-storage-basket"
    />
    <span class="tooltiptext">Each native tribe uses its own intricate designs.</span>
      </div>
      <h3>Storage Basket</h3>
      <p>Handwoven cedar-root basket inspired by Pacific Northwest Coast designs, featuring traditional formline art in rich red and black tones.</p>
      <p><strong>Price:</strong> $45.00</p>
     <span class="qty-badge" aria-live="polite"></span>
      <button
  onclick="addToCart(this)"
  data-id="item001"
  data-name="Storage Basket"
  data-price="45.00"
  data-image="../images/shop/shopitem1.jpg">
  Add Storage Basket to Cart
</button>
    </div>
    <!-- END SINGLE ITEM BLOCK -->

    <!-- BEGIN SINGLE ITEM BLOCK-->
    <div class="souvenir-item" data-id="item002">
       <div class="tooltip">
      <img 
       src="../images/shop/shopitem2.jpg"
       alt="Museum cookbook" 
       class="open-modal"
       data-modal-target="#modal-text-museum-cookbook" 
       />
     <span class="tooltiptext">Includes historic photos.</span> 
    </div>
      <h3>Museum Cookbook</h3>
      <p>Every recipe tells a story in this collection. Dishes for every occasion arranged by main ingredient.</p>
      <p><strong>Price:</strong> $32.50</p>
      <span class="qty-badge" aria-live="polite"></span>
     <button
  onclick="addToCart(this)"
  data-id="item002"
  data-name="Museum Cookbook"
  data-price="32.50"
  data-image="../images/shop/shopitem2.jpg">
  Add Museum Cookbook to Cart
</button>
    </div>
    <!-- END SINGLE ITEM BLOCK -->

     <!-- BEGIN SINGLE ITEM BLOCK-->
    <div class="souvenir-item" data-id="item003">
        <div class="tooltip">
      <img 
       src="../images/shop/shopitem3.jpg"
       alt="package of smoked salmon" 
       class="open-modal"
       data-modal-target="#modal-text-smoked-salmon"
       />
       <span class="tooltiptext">Currently featuring Coho salmon from the Quinalt tribe.</span>
      </div>
      <h3>Smoked Salmon</h3>
      <p>Alder-smoked following traditional methods by a consortium of native tribal groups. Type of salmon varies by season.</p>
      <p><strong>Price:</strong> $24.00</p>
      <span class="qty-badge" aria-live="polite"></span>
      <button
  onclick="addToCart(this)"
  data-id="item003"
  data-name="Smoked Salmon"
  data-price="24.00"
  data-image="../images/shop/shopitem3.jpg">
  Add Smoked Salmon to Cart
</button>
    </div>
    <!-- END SINGLE ITEM BLOCK -->

     <!-- BEGIN SINGLE ITEM BLOCK-->
    <div class="souvenir-item" data-id="item004">
      <div class="tooltip">
      <img 
       src="../images/shop/shopitem4.jpg" 
       alt="camas seed packet" 
       class="open-modal"
       data-modal-target="#modal-text-native-seed-packet" 
       />
       <span class="tooltiptext">Native people harvested and baked camas bulbs as a sweet, fructose-rich food.</span>
      </div>
      <h3>Native Seed Packet</h3>
      <p>Current offering: Bulbs for Common Camas, once a staple food for native people. 100 seeds per packet.</p>
      <p><strong>Price:</strong> $12.00</p>
      <span class="qty-badge" aria-live="polite"></span>
      <button
  onclick="addToCart(this)"
  data-id="item004"
  data-name="Native Seed Packet"
  data-price="12.00"
  data-image="../images/shop/shopitem4.jpg">
  Add Native Seed Packet to Cart
</button>
    </div>
    <!-- END SINGLE ITEM BLOCK -->
  </div>

  <!-- MODAL -->
 <div class="modal-item" id="modal-text-storage-basket" hidden>
  <h2 id="modal-title">Storage Basket — Details</h2>
  <p>Handwoven cedar-root basket inspired by Pacific Northwest Coast Coast designs, featuring traditional formline art.</p>
</div>

<div class="modal-item" id="modal-text-museum-cookbook" hidden>
  <h2 id="modal-title">Museum Cookbook — Details</h2>
  <p>Include your description or story about the cookbook here.</p>
</div>

<div class="modal-item" id="modal-text-smoked-salmon" hidden>
  <h2 id="modal-title">Smoked Salmon — Details</h2>
  <p>Write your product details, history, or cultural significance here.</p>
</div>

 <div class="modal-item" id="modal-text-native-seed-packet" hidden>
  <h2 id="modal-title">Native Seed Packet — Details</h2>
  <p>Write your item notes, ecological information, or planting guidance here.</p>
</div>
 
<!-- Main modal container -->
<div class="modal" id="modal" style="display:none" role="dialog" aria-modal="true">
  <div class="modal-content">
    <button class="close-modal" aria-label="Close modal">&times;</button>
    <div id="modal-body"></div>
  </div>
</div>
<script>
  // Cart functionality (same as previous version)
  const CART_KEY = 'museumCartV1';

  function readCart() {
    try { return JSON.parse(localStorage.getItem(CART_KEY)) || []; }
    catch { return []; }
  }

  function writeCart(cart) {
    localStorage.setItem(CART_KEY, JSON.stringify(cart));
  }

  function addToCart(btn) {
    const id = btn.dataset.id;
    const name = btn.dataset.name;
    const unitPrice = Number(btn.dataset.price);
    const image = btn.dataset.image;

    let cart = readCart();
    const idx = cart.findIndex(it => it.id === id);
    if (idx >= 0) {
      cart[idx].qty += 1;
    } else {
      cart.push({ id, name, unitPrice, qty: 1, image });
    }
    writeCart(cart);

    const card = btn.closest('.souvenir-item');
    if (card) {
      const badge = card.querySelector('.qty-badge');
      if (badge) {
        const item = cart.find(it => it.id === id);
        badge.textContent = item ? `Qty: ${item.qty}` : '';
      }
    }
  }

  // Modal functionality
  (function() {
    const modal = document.getElementById('modal');
    const modalBody = document.getElementById('modal-body');
    const closeBtn = modal.querySelector('.close-modal');
    let lastTrigger = null;

    document.addEventListener('click', (e) => {
      const trigger = e.target.closest('[data-modal-target]');
      if (trigger) {
        e.preventDefault();

        // Get the hidden modal content
        const modalItem = document.querySelector(trigger.dataset.modalTarget);
        if (!modalItem) return;

        // Remove 'hidden' and move it into modal-body
        modalItem.removeAttribute('hidden');
        modalBody.innerHTML = '';
        modalBody.appendChild(modalItem);

        // Show modal
        modal.style.display = 'block';
        lastTrigger = trigger;
        closeBtn.focus();
        document.body.style.overflow = 'hidden';
        return;
      }

      // Close modal if clicked outside content or on close button
      if (e.target === modal || e.target.closest('.close-modal')) {
        if (modalBody.firstChild) {
          modalBody.firstChild.setAttribute('hidden', ''); // restore hidden
          document.body.appendChild(modalBody.firstChild); // put it back
        }
        modal.style.display = 'none';
        document.body.style.overflow = '';
        if (lastTrigger) lastTrigger.focus();
      }
    });

    // Close modal on Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && modal.style.display === 'block') {
        if (modalBody.firstChild) {
          modalBody.firstChild.setAttribute('hidden', '');
          document.body.appendChild(modalBody.firstChild);
        }
        modal.style.display = 'none';
        document.body.style.overflow = '';
        if (lastTrigger) lastTrigger.focus();
      }
    });
  })();
</script>


 
</body>

</html>









